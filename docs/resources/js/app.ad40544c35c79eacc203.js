(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,n){},1:function(e,n){},2:function(e,n){},"2YZa":function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),i=a.n(t),l=a("i8i4"),r=a.n(l),s=a("lwsE"),o=a.n(s),c=a("W8MJ"),u=a.n(c),d=a("a1gu"),f=a.n(d),g=a("Nsbk"),m=a.n(g),_=a("7W2i"),h=a.n(_),p=a("55Ip"),v=a("Ty5D"),y=a("RIqP"),b=a.n(y),w=a("PJYZ"),x=a.n(w),k=a("lSNA"),z=a.n(k),D=a("J4zp"),E=a.n(D),S=a("o0o1"),C=a.n(S),P=a("C1Pg"),M=a("Q9Tx"),T=a("oc9X"),N=a.n(T),R=function(){return C.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return M.weightsManifest[0].paths=[N.a.slice(1)],e.next=3,C.a.awrap(P.a.modelFromJSON(M));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}))},B=function(e){return e.changedTouches&&e.changedTouches[0]||e},J=function(e,n){return[B(e).pageX-n.x,B(e).pageY-n.y]},L=function(e){for(var n=[],a=0;a<e.length;a+=4){var t=e.slice(a,a+4),i=E()(t,4),l=i[0],r=i[1],s=i[2],o=i[3]/255*(38*l+75*r+15*s>>7);n.push(1-o/255)}return function(e){for(var n=[],a=0;a<28;a++){for(var t=[],i=0;i<28;i++){for(var l=[],r=10*a;r<10*(a+1);r++)for(var s=10*i;s<10*(i+1);s++)l.push(e[s+280*r]);t.push([l.reduce((function(e,n){return e+n}),0)/l.length])}n.push(t)}return P.b([n])}(n)},Z=function(e){function n(e){var a;return o()(this,n),a=f()(this,m()(n).call(this,e)),z()(x()(a),"canvas",null),z()(x()(a),"ctx",null),z()(x()(a),"basePosition",{x:0,y:0}),z()(x()(a),"isDrawing",!1),z()(x()(a),"state",{model:null,result:null}),z()(x()(a),"startDraw",(function(e){var n=J(e,a.basePosition),t=E()(n,2),i=t[0],l=t[1];a.isDrawing=!0,a.ctx.beginPath(),a.ctx.moveTo(i,l)})),z()(x()(a),"drawing",(function(e){if(a.isDrawing){var n=J(e,a.basePosition),t=E()(n,2),i=t[0],l=t[1];a.ctx.lineTo(i,l),a.ctx.stroke()}})),z()(x()(a),"endDraw",(function(){a.isDrawing&&(a.isDrawing=!1,a.ctx.closePath(),a.getResult())})),z()(x()(a),"clear",(function(){a.ctx.fillStyle="white",a.ctx.fillRect(0,0,a.canvas.width,a.canvas.height),a.setState({result:null})})),z()(x()(a),"updatePosition",(function(){a.ctx=a.canvas.getContext("2d"),a.ctx.fillStyle="white",a.ctx.fillRect(0,0,a.canvas.width,a.canvas.height),a.ctx.strokeStyle="black",a.ctx.lineWidth=15,a.basePosition={x:a.canvas.getBoundingClientRect().left,y:a.canvas.getBoundingClientRect().top}})),z()(x()(a),"getResult",(function(){var e,n,t,i,l;return C.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.canvas.getContext("2d"),n=e.getImageData(0,0,a.canvas.width,a.canvas.height).data,r.next=4,C.a.awrap(a.state.model.predict(L(n)));case 4:return t=r.sent,r.next=7,C.a.awrap(t.array());case 7:i=r.sent[0],l=Math.max.apply(Math,b()(i)),a.setState({result:i.indexOf(l)});case 11:case"end":return r.stop()}}))})),R().then((function(e){a.setState({model:e})})),window.addEventListener("resize",a.updatePosition),a}return h()(n,e),u()(n,[{key:"componentDidUpdate",value:function(e,n){null==n.model&&this.canvas&&this.updatePosition()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updatePosition)}},{key:"render",value:function(){var e=this,n=this.state,a=n.model,t=n.result;return i.a.createElement("div",{id:"app"},i.a.createElement("div",{className:"canvas-container",style:{width:280,height:280}},null!=a?i.a.createElement("canvas",{ref:function(n){return e.canvas=n},width:280,height:280,onMouseDown:this.startDraw,onMouseMove:this.drawing,onMouseUp:this.endDraw,onMouseLeave:this.endDraw,onTouchStart:this.startDraw,onTouchMove:this.drawing,onTouchEnd:this.endDraw}):i.a.createElement("div",{className:"mask"},"Loading...")),i.a.createElement("div",{className:"clear",onClick:this.clear},"Clear"),i.a.createElement("p",{className:"result"},"Resultï¼š",null==t?"--":t))}}]),n}(t.PureComponent),I=function(e){function n(){var e,a;o()(this,n);for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return a=f()(this,(e=m()(n)).call.apply(e,[this].concat(i))),z()(x()(a),"canvas",null),z()(x()(a),"ctx",null),z()(x()(a),"handleChangeField",(function(e){try{var n=JSON.parse("[[[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.1764705926179886], [0.5529412031173706], [0.5529412031173706], [1.0], [0.6980392336845398], [0.1725490242242813], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.07450980693101883], [0.8823529481887817], [0.9882352948188782], [0.9882352948188782], [0.9921568632125854], [0.9882352948188782], [0.8784313797950745], [0.46666666865348816], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.30980393290519714], [0.9882352948188782], [0.8784313797950745], [0.658823549747467], [0.658823549747467], [0.8784313797950745], [0.9882352948188782], [0.9882352948188782], [0.14901961386203766], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.30980393290519714], [0.7921568751335144], [0.07450980693101883], [0.0], [0.0], [0.3686274588108063], [0.8941176533699036], [0.9882352948188782], [0.6392157077789307], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.062745101749897], [0.08627451211214066], [0.0], [0.0], [0.0], [0.0], [0.5764706134796143], [0.9921568632125854], [0.9372549057006836], [0.14901961386203766], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.45490196347236633], [0.9176470637321472], [0.3450980484485626], [0.0], [0.0], [0.0], [0.5764706134796143], [0.9882352948188782], [0.8352941274642944], [0.14901961386203766], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.7960784435272217], [0.9882352948188782], [0.7098039388656616], [0.05098039284348488], [0.0], [0.2235294133424759], [0.843137264251709], [0.9882352948188782], [0.6392157077789307], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.40392157435417175], [0.9882352948188782], [0.9529411792755127], [0.29411765933036804], [0.05098039284348488], [0.8078431487083435], [0.9882352948188782], [0.7921568751335144], [0.24705882370471954], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.2980392277240753], [0.95686274766922], [0.9921568632125854], [0.9921568632125854], [0.800000011920929], [0.9921568632125854], [0.95686274766922], [0.4901960790157318], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.05098039284348488], [0.8078431487083435], [0.9882352948188782], [0.9882352948188782], [0.9921568632125854], [0.9882352948188782], [0.364705890417099], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.14901961386203766], [0.5764706134796143], [0.9176470637321472], [0.9882352948188782], [0.9882352948188782], [0.9058823585510254], [0.21960784494876862], [0.05098039284348488], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.4941176474094391], [0.929411768913269], [0.9921568632125854], [0.9882352948188782], [0.9882352948188782], [0.7921568751335144], [0.09803921729326248], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.05098039284348488], [0.21176470816135406], [0.9921568632125854], [0.9921568632125854], [0.9921568632125854], [0.9960784316062927], [0.9921568632125854], [0.9921568632125854], [0.30588236451148987], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.07450980693101883], [0.5647059082984924], [0.9921568632125854], [0.9882352948188782], [0.8156862854957581], [0.5686274766921997], [0.501960813999176], [0.9882352948188782], [0.9882352948188782], [0.30588236451148987], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.48235294222831726], [0.9882352948188782], [0.95686274766922], [0.658823549747467], [0.14509804546833038], [0.0], [0.501960813999176], [0.9882352948188782], [0.729411780834198], [0.07450980693101883], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.5764706134796143], [0.9882352948188782], [0.686274528503418], [0.0], [0.0], [0.20000000298023224], [0.7960784435272217], [0.9882352948188782], [0.4156862795352936], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.529411792755127], [0.9921568632125854], [0.7019608020782471], [0.03921568766236305], [0.0], [0.4941176474094391], [0.9960784316062927], [0.9921568632125854], [0.4156862795352936], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.4588235318660736], [0.9647058844566345], [0.9921568632125854], [0.47843137383461], [0.5647059082984924], [0.9529411792755127], [0.9921568632125854], [0.8392156958580017], [0.07450980693101883], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.14901961386203766], [0.7803921699523926], [0.9921568632125854], [0.9882352948188782], [0.9882352948188782], [0.9882352948188782], [0.9058823585510254], [0.16862745583057404], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.24705882370471954], [0.6000000238418579], [0.9882352948188782], [0.8392156958580017], [0.3529411852359772], [0.09803921729326248], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]], [[0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]]]");a.ctx=a.canvas.getContext("2d"),a.ctx.fillStyle="white",a.ctx.fillRect(0,0,a.canvas.width,a.canvas.height),a.ctx.strokeStyle="black",a.ctx.lineWidth=1;for(var t=0;t<a.canvas.width;t++)for(var i=0;i<a.canvas.height;i++)a.ctx.fillStyle="rgba(0,0,0,".concat(n[i][t],")"),a.ctx.fillRect(t,i,1,1)}catch(e){return}})),a}return h()(n,e),u()(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"app"},i.a.createElement("textarea",{cols:"10",rows:"10",style:{marginBottom:20,resize:"none"},onChange:this.handleChangeField}),i.a.createElement("div",{className:"canvas-container"},i.a.createElement("canvas",{ref:function(n){return e.canvas=n},width:28,height:28})))}}]),n}(t.Component),F=function(e){function n(){return o()(this,n),f()(this,m()(n).apply(this,arguments))}return h()(n,e),u()(n,[{key:"render",value:function(){return i.a.createElement(p.a,null,i.a.createElement(v.c,null,i.a.createElement(v.a,{path:"/test",component:I}),i.a.createElement(v.a,{path:"/",component:Z})))}}]),n}(t.PureComponent),V=[];a("pLGG");Promise.all(V).then((function(){var e,n,a;e=document.getElementById("body"),(n="body-loading").length>0&&e.classList.remove(n),function(e){null!==e&&e.parentNode.removeChild(e)}(document.getElementById("sk-cube-grid")),a="DeepLearning test",document.title=a,r.a.render(i.a.createElement(F,null),document.getElementById("root"))}))},3:function(e,n){},4:function(e,n){},5:function(e,n){},Q9Tx:function(e){e.exports=JSON.parse('{"format":"layers-model","generatedBy":"keras v2.3.1","convertedBy":"TensorFlow.js Converter v1.3.1.1","modelTopology":{"keras_version":"2.3.1","backend":"tensorflow","model_config":{"class_name":"Sequential","config":{"name":"sequential_1","layers":[{"class_name":"Conv2D","config":{"name":"conv2d_1","trainable":true,"batch_input_shape":[null,28,28,1],"dtype":"float32","filters":32,"kernel_size":[3,3],"strides":[1,1],"padding":"valid","data_format":"channels_last","dilation_rate":[1,1],"activation":"relu","use_bias":true,"kernel_initializer":{"class_name":"VarianceScaling","config":{"scale":1,"mode":"fan_avg","distribution":"uniform","seed":null}},"bias_initializer":{"class_name":"Zeros","config":{}},"kernel_regularizer":null,"bias_regularizer":null,"activity_regularizer":null,"kernel_constraint":null,"bias_constraint":null}},{"class_name":"MaxPooling2D","config":{"name":"max_pooling2d_1","trainable":true,"dtype":"float32","pool_size":[2,2],"padding":"valid","strides":[2,2],"data_format":"channels_last"}},{"class_name":"Conv2D","config":{"name":"conv2d_2","trainable":true,"dtype":"float32","filters":64,"kernel_size":[3,3],"strides":[1,1],"padding":"valid","data_format":"channels_last","dilation_rate":[1,1],"activation":"relu","use_bias":true,"kernel_initializer":{"class_name":"VarianceScaling","config":{"scale":1,"mode":"fan_avg","distribution":"uniform","seed":null}},"bias_initializer":{"class_name":"Zeros","config":{}},"kernel_regularizer":null,"bias_regularizer":null,"activity_regularizer":null,"kernel_constraint":null,"bias_constraint":null}},{"class_name":"MaxPooling2D","config":{"name":"max_pooling2d_2","trainable":true,"dtype":"float32","pool_size":[2,2],"padding":"valid","strides":[2,2],"data_format":"channels_last"}},{"class_name":"Conv2D","config":{"name":"conv2d_3","trainable":true,"dtype":"float32","filters":64,"kernel_size":[3,3],"strides":[1,1],"padding":"valid","data_format":"channels_last","dilation_rate":[1,1],"activation":"relu","use_bias":true,"kernel_initializer":{"class_name":"VarianceScaling","config":{"scale":1,"mode":"fan_avg","distribution":"uniform","seed":null}},"bias_initializer":{"class_name":"Zeros","config":{}},"kernel_regularizer":null,"bias_regularizer":null,"activity_regularizer":null,"kernel_constraint":null,"bias_constraint":null}},{"class_name":"Flatten","config":{"name":"flatten_1","trainable":true,"dtype":"float32","data_format":"channels_last"}},{"class_name":"Dense","config":{"name":"dense_1","trainable":true,"dtype":"float32","units":64,"activation":"relu","use_bias":true,"kernel_initializer":{"class_name":"VarianceScaling","config":{"scale":1,"mode":"fan_avg","distribution":"uniform","seed":null}},"bias_initializer":{"class_name":"Zeros","config":{}},"kernel_regularizer":null,"bias_regularizer":null,"activity_regularizer":null,"kernel_constraint":null,"bias_constraint":null}},{"class_name":"Dense","config":{"name":"dense_2","trainable":true,"dtype":"float32","units":10,"activation":"softmax","use_bias":true,"kernel_initializer":{"class_name":"VarianceScaling","config":{"scale":1,"mode":"fan_avg","distribution":"uniform","seed":null}},"bias_initializer":{"class_name":"Zeros","config":{}},"kernel_regularizer":null,"bias_regularizer":null,"activity_regularizer":null,"kernel_constraint":null,"bias_constraint":null}}]}},"training_config":{"optimizer_config":{"class_name":"RMSprop","config":{"learning_rate":0.0010000000474974513,"rho":0.8999999761581421,"decay":0,"epsilon":1e-7}},"loss":"categorical_crossentropy","metrics":["accuracy"],"weighted_metrics":null,"sample_weight_mode":null,"loss_weights":null}},"weightsManifest":[{"paths":["group1-shard1of1.bin"],"weights":[{"name":"conv2d_1/kernel","shape":[3,3,1,32],"dtype":"float32"},{"name":"conv2d_1/bias","shape":[32],"dtype":"float32"},{"name":"conv2d_2/kernel","shape":[3,3,32,64],"dtype":"float32"},{"name":"conv2d_2/bias","shape":[64],"dtype":"float32"},{"name":"conv2d_3/kernel","shape":[3,3,64,64],"dtype":"float32"},{"name":"conv2d_3/bias","shape":[64],"dtype":"float32"},{"name":"dense_1/kernel","shape":[576,64],"dtype":"float32"},{"name":"dense_1/bias","shape":[64],"dtype":"float32"},{"name":"dense_2/kernel","shape":[64,10],"dtype":"float32"},{"name":"dense_2/bias","shape":[10],"dtype":"float32"}]}]}')},oc9X:function(e,n){e.exports="/resources/images/a1cf62c02e779b9dbf8a398aa76effe0.bin"},pLGG:function(e,n,a){}},[["2YZa",1,2]]]);